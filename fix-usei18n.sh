#!/bin/bash

# List of all files to fix
files=(
  "components/BackToTop.tsx"
  "components/DanceClassesPage.tsx"
  "components/DanzaBarcelonaPage.tsx"
  "components/DanzasUrbanasBarcelonaPage.tsx"
  "components/DynamicScheduleSchema.tsx"
  "components/FacilitiesFullGallery.tsx"
  "components/FinalCTA.tsx"
  "components/Footer.tsx"
  "components/HappinessStory.tsx"
  "components/Hero.tsx"
  "components/HowToGetHere.tsx"
  "components/ImageLightbox.tsx"
  "components/InstagramFeed.tsx"
  "components/MethodInfographic.tsx"
  "components/SEO.tsx"
  "components/SalsaBachataPage.tsx"
  "components/SchemaMarkup.tsx"
  "components/ServiceWorkerStatus.tsx"
  "components/SkipLink.tsx"
  "components/TeacherAvatar.tsx"
  "components/Teachers.tsx"
  "components/TeamBuildingPage.tsx"
  "components/TrustBarHero.tsx"
  "components/WhyFIDC.tsx"
  "components/YouTubeEmbed.tsx"
  "components/blog/ArticleContent.tsx"
  "components/blog/ArticleSummaryBox.tsx"
  "components/blog/ShareButtons.tsx"
  "components/blog/TableOfContents.tsx"
  "components/booking/components/ClassCard.tsx"
  "components/booking/components/ClassListStep.tsx"
  "components/booking/PrivacyModal.tsx"
  "components/booking/TermsModal.tsx"
  "components/header/DesktopNavigation.tsx"
  "components/header/MobileNavigation.tsx"
  "components/home/CategoriesSchemaMarkup.tsx"
  "components/home/StatsBar.tsx"
  "components/home/VideoTestimonialsSection.tsx"
  "components/homev2/ComparisonSection.tsx"
  "components/homev2/IrresistibleOfferSection.tsx"
  "components/homev2/PatternInterrupt.tsx"
  "components/homev2/ProblemSolutionSection.tsx"
  "components/homev2/SocialProofSection.tsx"
  "components/homev2/StickyMobileCTA.tsx"
  "components/homev2/TrustBar.tsx"
  "components/homev2/VideoTestimonialsSection.tsx"
  "components/landing/GenericDanceLanding.tsx"
  "components/landing/ScheduleWidget.tsx"
  "components/novedades/NovedadesCarousel.tsx"
  "components/pages/BlogArticlePage.tsx"
  "components/reviews/ReviewsSection.tsx"
  "components/schedule/LevelGuide.tsx"
  "components/schedule/ScheduleBlock.tsx"
  "components/schedule/SeasonNotice.tsx"
  "components/schedule/StickyScheduleNav.tsx"
  "components/schedule/TimeBlockFilter.tsx"
  "components/schedule/WeeklyAvailabilityMatrix.tsx"
  "components/shared/ArtisticDanceComparisonTable.tsx"
  "components/shared/CookieBanner.tsx"
  "components/shared/CountdownTimer.tsx"
  "components/shared/LatinDanceComparisonTable.tsx"
  "components/shared/LevelCardsSection.tsx"
  "components/shared/ManifestoBanner.tsx"
  "components/shared/PrepareClassSection.tsx"
  "components/shared/WhyUsComparisonSection.tsx"
  "components/templates/CategoryPageTemplate.tsx"
  "components/templates/ServicePageTemplate.tsx"
)

for file in "${files[@]}"; do
  filepath="c:/Users/fabio/Desktop/Gitclone/$file"
  if [ -f "$filepath" ]; then
    echo "Fixing $file..."
    # Replace useI18n() with useTranslation(['common'])
    sed -i "s/const { t, locale } = useI18n();/const { t, i18n } = useTranslation(['common']);\n  const locale = i18n.language;/g" "$filepath"
    sed -i "s/const { t } = useI18n();/const { t, i18n } = useTranslation(['common']);\n  const locale = i18n.language;/g" "$filepath"
    sed -i "s/const { locale } = useI18n();/const { i18n } = useTranslation(['common']);\n  const locale = i18n.language;/g" "$filepath"
    sed -i "s/const locale = useI18n().locale;/const { i18n } = useTranslation(['common']);\n  const locale = i18n.language;/g" "$filepath"
  else
    echo "File not found: $filepath"
  fi
done

echo "Done!"
